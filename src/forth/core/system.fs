: BYE ;

: 0<> 0 <> ;
: 0> 0 > ;

: INVERT ( n -- 1'comp )
    -1 XOR
;

: ? @ . ;

: +! ( value addr -- ) TUCK @ + SWAP ! ;

\ : (DOES>) LAST

: VALUE
  CREATE HERE !
  CELL ALLOT ;

( 66 VALUE TOTO
TOTO ? CR )

: VARIABLE  CREATE  0 , ;
\ : CONSTANT  CREATE    ,  DOES> @ ;

( VARIABLE IW3 IMMEDIATE 234 IW3 ! IW3 ?

HEX
LAST . )

( VARIABLE DATE VARIABLE FOO
12 DATE !
DATE ?  CR
26 FOO !
FOO ? CR )


: BEGIN HERE ; IMMEDIATE

: AGAIN
  COMPILE BRANCH
  HERE - S,
; IMMEDIATE

: DO
  COMPILE SWAP
  COMPILE >R
  COMPILE >R
  HERE
; IMMEDIATE

: LOOP
  COMPILE R>
  COMPILE 1+
  COMPILE R>
  COMPILE 2DUP
  COMPILE >R
  COMPILE >R
  COMPILE <
  COMPILE 0=
  COMPILE 0BRANCH
  HERE - S,
  COMPILE R>
  COMPILE R>
  COMPILE 2DROP
; IMMEDIATE

\ : DO POSTPONE (DO) HERE ; IMMEDIATE
\ : LOOP COMPILE (LOOP) ; IMMEDIATE

: LEAVE R> R> R> DROP DUP >R >R >R ;

: >MARK      ( -- addr )   HERE 0 S,  ;
: IF COMPILE 0BRANCH >MARK ; IMMEDIATE
: THEN HERE OVER - SWAP S! ; IMMEDIATE
: ELSE COMPILE BRANCH >MARK SWAP [COMPILE] THEN ; IMMEDIATE

\ TRACE.ON
 : DECADE 10 0 DO  1 .  LOOP ;
